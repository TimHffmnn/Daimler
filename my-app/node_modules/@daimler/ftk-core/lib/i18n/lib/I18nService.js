"use strict";
// SPDX-License-Identifier: MIT
// Copyright (c) 2020 Daimler TSS GmbH
Object.defineProperty(exports, "__esModule", { value: true });
var React = require("react");
var react_intl_1 = require("react-intl");
var I18nService = /** @class */ (function () {
    function I18nService(registry, langGetter, langSetter, intl) {
        this.registry = registry;
        this.langGetter = langGetter;
        this.langSetter = langSetter;
        this.intl = intl;
    }
    I18nService.prototype.translate = function (translationId, params) {
        if (params === void 0) { params = {}; }
        try {
            var message = this.registry.get(translationId);
            return (React.createElement(react_intl_1.FormattedMessage, { id: message.translationId, defaultMessage: message.messages.get(this.getLang()).message, values: params }));
        }
        catch (e) {
            return translationId;
        }
    };
    /* eslint-disable @typescript-eslint/no-explicit-any */
    I18nService.prototype.translateToString = function (translationId, params) {
        if (params === void 0) { params = {}; }
        /* eslint-enable @typescript-eslint/no-explicit-any */
        try {
            var message = this.registry.get(translationId);
            return this.intl.formatMessage({
                defaultMessage: message.messages.get(this.getLang()).message,
                id: message.translationId,
            }, params);
        }
        catch (e) {
            return translationId;
        }
    };
    I18nService.prototype.setLang = function (lang) {
        this.langSetter(lang);
    };
    I18nService.prototype.getLang = function () {
        return this.langGetter();
    };
    I18nService.prototype.getLangs = function () {
        try {
            var keyZero = this.registry.getKeys()[0];
            if (this.registry.has(keyZero)) {
                return this.registry.get(keyZero).messages.getKeys();
            }
            return [];
        }
        catch (e) {
            return [];
        }
    };
    return I18nService;
}());
exports.I18nService = I18nService;
//# sourceMappingURL=I18nService.js.map