"use strict";
// SPDX-License-Identifier: MIT
// Copyright (c) 2020 Daimler TSS GmbH
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var lodash_1 = require("lodash");
var Url_1 = require("../../../util/Url");
var NestedRouterStrategy = /** @class */ (function () {
    function NestedRouterStrategy(name, baseUrl) {
        this.name = name;
        this.baseUrl = baseUrl;
    }
    NestedRouterStrategy.prototype.extract = function (url) {
        var query = Url_1.default.extractQuery(Url_1.default.extractHashbang(url));
        return lodash_1.get(query, "_" + this.name, '');
    };
    NestedRouterStrategy.prototype.format = function (url) {
        var _a;
        return Url_1.default.buildHashbang(Url_1.default.buildPathFromSegments(Url_1.default.extractPath(this.baseUrl)) +
            Url_1.default.buildQueryFromParameters(tslib_1.__assign({}, Url_1.default.extractQuery(this.baseUrl), (_a = {}, _a["_" + this.name] = url, _a))));
    };
    return NestedRouterStrategy;
}());
exports.default = NestedRouterStrategy;
//# sourceMappingURL=NestedRouterStrategy.js.map